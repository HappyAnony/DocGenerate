

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ReadtheDocs &mdash; 文档编排 1.0.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../../genindex.html"/>
        <link rel="search" title="搜索" href="../../search.html"/>
    <link rel="top" title="文档编排 1.0.0 documentation" href="../../index.html"/>
        <link rel="up" title="文档发布" href="index.html"/>
        <link rel="next" title="电子书" href="2-ebook.html"/>
        <link rel="prev" title="文档发布" href="index.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> 文档编排
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">sphinx文档编排</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../1-generate/index.html">文档生成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2-collocation/index.html">文档托管</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">文档发布</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">ReadtheDocs</a></li>
<li class="toctree-l3"><a class="reference internal" href="2-ebook.html">电子书</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../gitbook/index.html">Gitbook文档编排</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">文档编排</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">sphinx文档编排</a> &raquo;</li>
        
          <li><a href="index.html">文档发布</a> &raquo;</li>
        
      <li>ReadtheDocs</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/sphinx/3-release/1-docs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="readthedocs">
<h1>ReadtheDocs<a class="headerlink" href="#readthedocs" title="Permalink to this headline">¶</a></h1>
<p>参考文档</p>
<ul class="simple">
<li><a class="reference external" href="https://docs.readthedocs.io/en/latest/index.html">官方文档</a></li>
<li><a class="reference external" href="http://www.hylang.org/zh_CN/latest/">中文文档</a></li>
</ul>
<p><a class="reference external" href="https://readthedocs.org/">Read the Docs</a>是一个开源项目文档托管和阅读工具。它提供了Sphinx文档的多种阅读方式，它主要有以下特点：</p>
<ul class="simple">
<li>支持多种形式的阅读，<code class="docutils literal"><span class="pre">web/pdf/epub</span></code>等，同时可以全文搜索</li>
<li>支持文档的版本控制，<code class="docutils literal"><span class="pre">git/svn</span></code>等</li>
<li>支持对<code class="docutils literal"><span class="pre">github/gitlab</span></code>等仓库中某个标签或分支托管的Sphinx文档的clone、build</li>
<li>支持<a class="reference external" href="https://www.cnblogs.com/wangwangever/p/7467142.html">webhooks</a>，当版本控制下的文档有更新时就会自动触发build文档</li>
</ul>
<p>我们知道github虽然可以托管Sphinx文档，但是它无法解析<code class="docutils literal"><span class="pre">build</span></code>目录下生成的html文档以web形式展示阅读；这里我们将通过绑定<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs工程</span></code>和<code class="docutils literal"><span class="pre">github仓库</span></code>来实现对github托管的Sphinx文档进行clone克隆、build构建、web展示</p>
<div class="section" id="id3">
<h2>注册账号<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>进入<a class="reference external" href="https://readthedocs.org/">Read the Docs官网</a>点击登录，输入用户、邮箱、密码完成注册</p>
<div class="figure">
<img alt="../../_images/114.png" src="../../_images/114.png" />
</div>
<div class="figure">
<img alt="../../_images/213.png" src="../../_images/213.png" />
</div>
</div>
<div class="section" id="id5">
<h2>导入仓库<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<p>第一次登录会出现以下界面</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Import</span> <span class="pre">a</span> <span class="pre">Project</span></code>：创建一个项目工程，<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs</span></code>中每个文档托管都是以一一个项目的形式存在</li>
<li><code class="docutils literal"><span class="pre">Connect</span> <span class="pre">your</span> <span class="pre">Accounts</span></code>：绑定账户，可以绑定<code class="docutils literal"><span class="pre">GitHub/GitLab/Bitbucket</span></code>，绑定后<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs</span></code>会自动搜索并列出可以被import创建项目工程的仓库；同时当导入仓库创建项目工程时，仓库会自动被设置<code class="docutils literal"><span class="pre">webhooks功能</span></code></li>
</ul>
<div class="figure">
<img alt="../../_images/312.png" src="../../_images/312.png" />
</div>
<p>首先我们来绑定账户，这里我绑定我的GitHub账户</p>
<div class="figure">
<img alt="../../_images/412.png" src="../../_images/412.png" />
</div>
<p>绑定成功后会显示已经绑定成功[注意：后面的<code class="docutils literal"><span class="pre">连接已断开</span></code>不表示当前连接断开了，而是当你点击后才会断开连接]</p>
<div class="figure">
<img alt="../../_images/54.png" src="../../_images/54.png" />
</div>
<p>接着我们回到<code class="docutils literal"><span class="pre">dashboard界面</span></code>，点击<code class="docutils literal"><span class="pre">import</span> <span class="pre">a</span> <span class="pre">project</span></code>创建工程项目</p>
<div class="figure">
<img alt="../../_images/63.png" src="../../_images/63.png" />
</div>
<p>此时我们可以通过两种方式创建工程项目：</p>
<ul class="simple">
<li>前面我们说过，绑定github账号后，当你创建工程项目时，它会自动列出可以被导入创建的仓库，直接选择即可，但是不知道为什么，每次我这里都显示<code class="docutils literal"><span class="pre">No</span> <span class="pre">remote</span> <span class="pre">repositories</span></code></li>
<li>手动导入，这里我选择这种方式</li>
</ul>
<div class="figure">
<img alt="../../_images/73.png" src="../../_images/73.png" />
</div>
<div class="figure">
<img alt="../../_images/83.png" src="../../_images/83.png" />
</div>
<div class="figure">
<img alt="../../_images/93.png" src="../../_images/93.png" />
</div>
<div class="figure">
<img alt="../../_images/103.png" src="../../_images/103.png" />
</div>
<p>点击上述<code class="docutils literal"><span class="pre">构建</span></code>按钮后，会看到项目正在克隆，构建github仓库的Sphinx文档</p>
<div class="figure">
<img alt="../../_images/115.png" src="../../_images/115.png" />
</div>
<p>在过几分钟，再点击<code class="docutils literal"><span class="pre">构建</span></code>，如果显示通过，那么项目工程创建成功</p>
<blockquote>
<div><div class="figure">
<img alt="../../_images/123.png" src="../../_images/123.png" />
</div>
</div></blockquote>
<p>此时，如果我们查看github仓库的<code class="docutils literal"><span class="pre">Settings</span></code>中的<code class="docutils literal"><span class="pre">Webhooks</span></code>项自动添加了一个url，该url就是刚才创建的<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs项目地址</span></code>，当我们github仓库版本更新，它会自动触发<code class="docutils literal"><span class="pre">webhooks机制</span></code>，通知该url对应的<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs工程</span></code>仓库有版本更新，于是<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs工程</span></code>会自动触发clone、build动作，同步github仓库的版本更新</p>
<blockquote>
<div><ul class="simple">
<li>只有在创建项目工程之前绑定github账户，才会自动为github仓库设置<code class="docutils literal"><span class="pre">Webhooks</span></code>，否则需要手动设置；具体可参考<a class="reference external" href="https://docs.readthedocs.io/en/latest/webhooks.html">Webhooks官方文档</a></li>
</ul>
</div></blockquote>
<div class="figure">
<img alt="../../_images/133.png" src="../../_images/133.png" />
</div>
</div>
<div class="section" id="id7">
<h2>文档阅读<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<p>项目的dashboard右上方的<code class="docutils literal"><span class="pre">阅读文档</span></code>即可以web的形式阅读文档</p>
<div class="figure">
<img alt="../../_images/192.png" src="../../_images/192.png" />
</div>
<p>效果图如下</p>
<div class="figure">
<img alt="../../_images/202.png" src="../../_images/202.png" />
</div>
<p>点击左下角的<code class="docutils literal"><span class="pre">Read</span> <span class="pre">the</span> <span class="pre">Docs</span></code>会出现其它的编辑阅读方式</p>
<div class="figure">
<img alt="../../_images/214.png" src="../../_images/214.png" />
</div>
</div>
<div class="section" id="id8">
<h2>项目界面<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<p>当我们创建好一个项目，项目的dashboard有多个子项，每个子项有各自的用途</p>
<div class="figure">
<img alt="../../_images/142.png" src="../../_images/142.png" />
</div>
<ul class="simple">
<li>概况：项目的概述，如上图所示</li>
<li>阅读文档：通过web方式打开阅读文档</li>
</ul>
<div class="figure">
<img alt="../../_images/152.png" src="../../_images/152.png" />
</div>
<ul class="simple">
<li>下载：提供pdf/epub文档的下载</li>
<li>搜索：关键字全文搜索</li>
<li><dl class="first docutils">
<dt>构建：显示版本构建的历史记录，点击每一个版本记录，就会看到该版本构建时的日志记录</dt>
<dd><ul class="first last">
<li>当版本构建失败时，阅读构建日志可以帮助我们快速定位解决问题</li>
</ul>
</dd>
</dl>
</li>
</ul>
<div class="figure">
<img alt="../../_images/182.png" src="../../_images/182.png" />
</div>
<ul class="simple">
<li><dl class="first docutils">
<dt>管理：当前工程项目的所有配置信息，可以编辑修改保存</dt>
<dd><ul class="first last">
<li>相关的设置说明可参考<a class="reference external" href="http://www.hylang.org/zh_CN/latest/index.html">中文文档对应章节</a></li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="faq">
<h2>FAQ<a class="headerlink" href="#faq" title="Permalink to this headline">¶</a></h2>
<p>参考文档：<a class="reference external" href="http://www.hylang.org/zh_CN/latest/faq.html">官方FAQ文档</a></p>
<p>解决问题思路</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>查看build失败版本的版本日志记录</dt>
<dd><ul class="first last">
<li>打开项目主页-&gt;点击<code class="docutils literal"><span class="pre">构建</span></code>子项-&gt;点击构建fail的版本即可查看对应的构建日志记录</li>
</ul>
</dd>
</dl>
</li>
<li>关键字搜索导致构建失败的日志记录</li>
</ul>
<div class="section" id="id11">
<h3>问题1<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h3>
<p>项目工程创建失败，点击项目dashboard的<code class="docutils literal"><span class="pre">构建</span></code>子项，然后点击显示fail的版本 ，查看构建日志，报错如下：</p>
<div class="figure">
<img alt="../../_images/162.png" src="../../_images/162.png" />
</div>
<dl class="docutils">
<dt>问题原因：在<code class="docutils literal"><span class="pre">conf.py</span></code>配置文件中，我启用了<code class="docutils literal"><span class="pre">latex_elements</span></code>配置项，该项是Sphinx通过latex方式编译输出PDF文档的相关配置信息；如果使用英文编辑默认配置没什么问题，但是我的文档是用中文编写的，如果没有配置以下红框标注的<code class="docutils literal"><span class="pre">preamble</span></code> 项，latex编译时就会报错，导致项目构建失败</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">\n</span></code>和<code class="docutils literal"><span class="pre">\b</span></code>都是Python中的转义字符，所以配置中的<code class="docutils literal"><span class="pre">\nobreakspace</span></code>和<code class="docutils literal"><span class="pre">\begin</span></code>都需要使用两个<code class="docutils literal"><span class="pre">\\</span></code></li>
<li>如果将<code class="docutils literal"><span class="pre">latex_elements</span></code>配置项注释掉，项目构建也不会失败</li>
</ul>
</dd>
</dl>
<div class="figure">
<img alt="../../_images/172.png" src="../../_images/172.png" />
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="2-ebook.html" class="btn btn-neutral float-right" title="电子书" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="文档发布" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, HappyAnony.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>